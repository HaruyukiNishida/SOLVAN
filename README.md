# ソロバン
そろばんを使って出現する数字を倒すアクションゲーム
短時間で遊べるミニゲーム（若干知育要素あり）



# ゲーム内容
- メニュー画面で問題数や数字のスピード、出現方法を設定
- PCならマウス、スマホなら指（一応二本指に対応）で珠をおく
- 流れてくる数字を読み上げ算の要領で足し算していき、正答すれば数字を倒せる

- 数字は「見えてさえいればすべて攻撃対象」となります
>例えば、３の次に５が流れてきて両方とも画面に残っていれば、５を先に倒すことも可能です
>
>数字が流れきってしまった場合、もうその数字は倒せませんが、アンドゥで盤を最後に正答した状態に戻せば後続の数字は倒すことができます

- 規定問題数流れきったらゲーム終了です
# インゲームの機能
- スタートボタン  
  ゲームをスタートする
- 珠  上下にドラッグすることで実際のそろばんと同じ挙動をする
- 数字  出現する数字をそろばんで足していく事によって倒せる
- ポーズボタン  ゲームをいったん止めます＆RetryとQuitが選べます  
- アンドゥボタン  最後に数字を倒した＝正答した盤の状態に戻します


- クローズボタン  
 アプリを終了します（PC、スマホ共通）


# ポーズメニュー  
- Retry ゲームを全く同じ設定でやり直す（出現する数字も同じ）
- Quit  ゲームを終了する



# メニュー
- Interval  次の数字が流れてくるまでの時間　
- duration  数字が表れて消えるまでの時間＝移動するスピード
- level  高いほど桁の大きい数字（最大３桁）の出現率があがる
- mondaiCount  出現する数字の数　全て出現し終わったゲーム終了
- mode  右から左に流れてくるRightToLeftと、画面のあちこちから数字が迫ってくるRandomSpawnの２種類のモードがある
- DEMOボタン  現在のメニュー設定を反映した数字の挙動を確認できる 




# FAQ 
Q:なぜ、そろばんなの？  
A:以前から物理演算を利用したそろばんを作りたかった（・・作りたかった）  

Q:串が5桁分しかないけど足りる？  
A:現状、数字が1～999まで＆最大20問でどうやっても99999には届かないからヘーキヘーキ
  
Q:どうしてBGMがないの？  
A:電車内でやることを考えてるから & 自分が無音派なので

Q:どうしてAndroidにしか対応してないの？  
A:検証用のiphone持ってないから & 自分がAndroid派なので

# 苦労した点
- 当初、珠をおくのを物理演算で行おうとしていたが、珠同士の跳ね返りを制御できず思った位置でとまってくれないので断念  
移動位置を全て座標で管理する方法をとっています  
  
- 下の珠は上げたら足す＆下げたら引くのに対し、上の珠は挙動が上下逆なので、下の珠クラスを継承して逆になる部分だけoverrideしています（3Dモデルなので上下ひっくり返して配置したら珠クラスは１つで済んだかも）  
  
- 指（マウス）の動作量をとって上下どちらに動かしたかを検知するのに、EventTriggrのDragStartとDragEndを使用していたが  
ちょうど授業でインターフェイスの事を習ったので、珠クラスにIBeginDragHandler, IEndDragHandler, IDragHandlerを実装しています  
  
- 数字の出現を設定するのにViewportToWorldPointを使用しているが、当初は正確な四隅の座標がとれず苦労しました  
（カメラのzを符号反転させたらうまくいった）※  
  
# 反省点
- 物理演算から座標管理にしたり、EventTriggerからインターフェイスにしたり、大きめの変更をかける時になかなか踏ん切りがつかず作業時間を無駄にした事（これまでの作業時間を無駄にしたくない心情から余計に作業時間を無駄にした）  
  
- カメラのzを符号反転させたらうまくいった※のが「何故なのか」未だにわかってない事（自分でよくわかってないものを実装する事の不安）  

- 引き算に対応してない事（自分がよくルールをわかってないので）

# 使用した素材のサイト
-効果音ラボ
<https://soundeffect-lab.info/>  
  
-brushstock  
アルファベット フォント No.18の毛筆・筆文字フリー素材  
<https://brush-stock.com/font/latin-alphabet/vefola000018>  
<https://brush-stock.com/word/request/veworequ003776>  
